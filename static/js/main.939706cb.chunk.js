(this["webpackJsonpapi-console"]=this["webpackJsonpapi-console"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"auth",(function(){return st})),n.d(a,"user",(function(){return ut})),n.d(a,"requests",(function(){return pt}));var r=n(0),o=n.n(r),i=n(17),c=n.n(i),s=n(16),l=n(10),u=n(42),f=n(43),p=n(6),d=n(7),h=n(9),m=n(8),g=n(48),v=n(4),y=n(44),E=n.n(y),b=(n(59),function(){return o.a.createElement("div",{className:"Logo"},o.a.createElement("img",{src:E.a,className:"Logo__image",alt:"logotype"}))}),O=(n(60),function(e){var t=e.href,n=e.text;return o.a.createElement("div",{className:"Link"},o.a.createElement("a",{className:"Link__href",href:t,target:"_blank",rel:"noreferrer noopener"},n))});O.defaultProps={href:"",text:""};var A=n(2),C=n.n(A),k=n(5),R=n(24),x=(n(62),function(e){var t=e.forId,n=e.text,a=e.subtext,r=e.isWarning;return o.a.createElement("label",{htmlFor:t,className:"CtrlLabel"},o.a.createElement("div",{className:"CtrlLabel__text ".concat(r?"CtrlLabel__text_warning":"")},n),o.a.createElement("div",{className:"CtrlLabel__subtext"},a))});x.defaultProps={forId:"",text:"",subtext:"",isWarning:!1};var S=n(25),w=(n(63),function(e){var t=e.type,n=e.currentValue,a=e.onChange,r=e.isWarning,i=Object(S.a)(e,["type","currentValue","onChange","isWarning"]);return o.a.createElement("input",Object.assign({type:t,className:"CtrlInput ".concat(r?"CtrlInput_warning":""),value:n,onChange:a},i))});w.defaultProps={type:"text",currentValue:"",onChange:function(){},isWarning:!1};var j=n(45),_=n.n(j),D=(n(64),function(e){var t=e.type,n=e.children,a=e.onClick,r=e.isLoading,i=e.disabled,c=Object(S.a)(e,["type","children","onClick","isLoading","disabled"]);return o.a.createElement("button",Object.assign({type:t,className:"Button ".concat(r?"Button_loading":""),onClick:a,disabled:r||i},c),n,r&&o.a.createElement("img",{className:"Button__img",src:_.a,width:"24",height:"24",alt:"loader"}))});D.defaultProps={type:"button",onClick:function(){},disabled:!1,isLoading:!1,children:null};var N=n(19),L=n.n(N),W=(n(65),[{text:"\u041b\u043e\u0433\u0438\u043d",subtext:"",name:"login",type:"text"},{text:"\u0421\u0443\u0431\u043b\u043e\u0433\u0438\u043d",subtext:"\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e",name:"sublogin",type:"text"},{text:"\u041f\u0430\u0440\u043e\u043b\u044c",subtext:"",name:"password",type:"password"}]),F=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e)).onInputChange=function(e,t){a.setState(Object(R.a)({},e,{value:t.target.value,isValid:!0}))},a.onFormSubmit=function(){var e=Object(k.a)(C.a.mark((function e(t){var n,r,o,i,c,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.login,o=n.sublogin,i=n.password,c=a.props.onLogin,s=a.isLoginValid(r.value),l=a.isPasswordValid(i.value),s&&l&&c({login:r.value,sublogin:o.value,password:i.value});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.state=function(){var e={};return W.forEach((function(t){e[t.name]={value:"",isValid:!0}})),e}(),a.sendsay=new L.a,a}return Object(d.a)(n,[{key:"isLoginValid",value:function(e){console.log("AuthForm -> isLoginValid -> value=",e);var t=/^[a-zA-Z0-9@_.]+$/.test(e);return console.log("AuthForm -> isLoginValid -> res=",t),this.setState((function(e){return{login:{value:e.login.value,isValid:t}}})),t}},{key:"isPasswordValid",value:function(e){var t=/^[a-zA-Z0-9-_. ]+$/.test(e);return this.setState((function(e){return{password:{value:e.password.value,isValid:t}}})),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.fetching,a=t.fetchError,r=this.state;return o.a.createElement("form",{className:"AuthForm",onSubmit:this.onFormSubmit},o.a.createElement("div",{className:"AuthForm__content"},o.a.createElement("h1",{className:"AuthForm__title"},"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430"),a&&o.a.createElement("div",{className:"AuthForm__error"},o.a.createElement("div",{className:"AuthForm__error-title"},"\u0412\u0445\u043e\u0434 \u043d\u0435 \u0432\u044b\u0448\u0435\u043b"),o.a.createElement("div",{className:"AuthForm__error-desc"},"id: ".concat(a.id,", explain: ").concat(a.explain))),W.map((function(t,n){return o.a.createElement("div",{key:n,className:"AuthForm__ctrl-wrap"},o.a.createElement(x,{forId:t.name,text:t.text,subtext:t.subtext,isWarning:!r[t.name].isValid}),o.a.createElement(w,{id:t.name,type:t.type,name:t.name,currentValue:r[t.name].value,onChange:function(n){return e.onInputChange(t.name,n)},isWarning:!r[t.name].isValid}))})),o.a.createElement(D,{type:"submit",isLoading:n},"\u0412\u043e\u0439\u0442\u0438")))}}]),n}(o.a.Component);F.defaultProps={onLogin:function(){},fetching:!1,fetchError:{}};var P=F,T=new L.a,H=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.login(t);case 3:return e.abrupt("return",{ok:!0,session:T.session});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{ok:!1,err:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=n(1),U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(n=Object(I.a)({path:"/"},n)).expires instanceof Date&&(n.expires=n.expires.toUTCString());var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var r in n){a+="; "+r;var o=n[r];!0!==o&&(a+="="+o)}document.cookie=a},B="AUTH_FETCH",M="AUTH_SUCCESS",V="AUTH_ERROR",q="LOGOUT_FETCH",J="LOGOUT_SUCCESS",Q="LOGOUT_ERROR";function X(e){return function(){var t=Object(k.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B,payload:{fetching:!0,fetchError:null}}),t.next=3,H(e);case 3:(a=t.sent).ok?(n({type:M,payload:{fetching:!1,session:a.session}}),U("session_id",a.session,{"max-age":3600})):n({type:V,payload:{fetching:!1,fetchError:a.err}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(k.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:q,payload:{fetching:!0,fetchError:null}}),t.prev=1,t.next=4,e.request({action:"logout"});case 4:a=t.sent,console.log("logout -> result=",a),n({type:J,payload:{fetching:!1,session:null}}),U("session_id",a.session,{"max-age":0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:Q,payload:{fetching:!1,fetchError:t.t0}});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}n(66);var G=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLogin=function(t){(0,e.props.dispatch)(X(t))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fetching,n=e.fetchError;return o.a.createElement("div",{className:"LoginPage"},o.a.createElement("div",{className:"LoginPage__content"},o.a.createElement(b,null),o.a.createElement("div",{className:"LoginPage__form-wrap"},o.a.createElement(P,{onLogin:this.onLogin,fetching:t,fetchError:n})),o.a.createElement(O,{href:"https://github.com/RDemian",text:"https://github.com/RDemian"})))}}]),n}(o.a.Component);G.defaultProps={session:null,dispatch:function(){},fetching:!1,fetchError:{}};var Z=Object(l.b)((function(e){return{session:e.auth.session,fetching:e.auth.fetching,fetchError:e.auth.fetchError}}))(G),K=(n(67),function(e){var t=e.Icon,n=e.text,a=e.firstText,r=e.onClick,i=t&&n;return o.a.createElement("button",{className:"IconButton ".concat(a),type:"button",onClick:r},t&&o.a.createElement("span",{className:"IconButton__element ".concat(!a&&i?"IconButton__element_first":"")},o.a.createElement(t,{className:"IconButton__icon"})),n&&o.a.createElement("span",{className:"IconButton__element ".concat(a&&i?"IconButton__element_first":"")},n))});K.defaultProps={Icon:null,onClick:function(){},firstText:!1,text:""};var Y="USER_FETCH",$="USER_SUCCESS",ee="USER_ERROR";function te(e){return function(){var t=Object(k.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:Y,payload:{fetching:!0,fetchError:null}}),t.prev=1,t.next=4,e.request({action:"pong"});case 4:a=t.sent,n({type:$,payload:{fetching:!1,account:a.account,sublogin:a.sublogin}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:ee,payload:{fetching:!1,fetchError:t.t0}});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var re=o.a.createElement("g",{opacity:.8},o.a.createElement("path",{d:"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M16 17L21 12L16 7",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M21 12H9",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),oe=function(e){var t=e.svgRef,n=e.title,a=ae(e,["svgRef","title"]);return o.a.createElement("svg",ne({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},a),n?o.a.createElement("title",null,n):null,re)},ie=o.a.forwardRef((function(e,t){return o.a.createElement(oe,ne({svgRef:t},e))}));n.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var le=o.a.createElement("path",{d:"M6 1H3C2.46957 1 1.96086 1.21071 1.58579 1.58579C1.21071 1.96086 1 2.46957 1 3V6M19 6V3C19 2.46957 18.7893 1.96086 18.4142 1.58579C18.0391 1.21071 17.5304 1 17 1H14M14 19H17C17.5304 19 18.0391 18.7893 18.4142 18.4142C18.7893 18.0391 19 17.5304 19 17V14M1 14V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H6",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),ue=function(e){var t=e.svgRef,n=e.title,a=se(e,["svgRef","title"]);return o.a.createElement("svg",ce({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},a),n?o.a.createElement("title",null,n):null,le)},fe=o.a.forwardRef((function(e,t){return o.a.createElement(ue,ce({svgRef:t},e))}));n.p;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var he=o.a.createElement("path",{d:"M1 6H4C4.53043 6 5.03914 5.78929 5.41421 5.41421C5.78929 5.03914 6 4.53043 6 4V1M14 1V4C14 4.53043 14.2107 5.03914 14.5858 5.41421C14.9609 5.78929 15.4696 6 16 6H19M19 14H16C15.4696 14 14.9609 14.2107 14.5858 14.5858C14.2107 14.9609 14 15.4696 14 16V19M6 19V16C6 15.4696 5.78929 14.9609 5.41421 14.5858C5.03914 14.2107 4.53043 14 4 14H1",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),me=function(e){var t=e.svgRef,n=e.title,a=de(e,["svgRef","title"]);return o.a.createElement("svg",pe({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},a),n?o.a.createElement("title",null,n):null,he)},ge=o.a.forwardRef((function(e,t){return o.a.createElement(me,pe({svgRef:t},e))})),ve=(n.p,n(68),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,a=n.dispatch,r=n.sendsayInstance,o=n.session,r.setSession(o),a(te(r));case 3:case"end":return t.stop()}}),t)}))),e.onLogout=function(){var t=e.props,n=t.dispatch,a=t.sendsayInstance,r=t.session;a.setSession(r),n(z(a))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isFullScreen,n=e.user,a=e.onFullScreenChange;return o.a.createElement("div",{className:"HeadPanel"},o.a.createElement(b,null),o.a.createElement("h1",{className:"HeadPanel__title"},"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430"),o.a.createElement("div",{className:"HeadPanel__user"},"".concat(null===n||void 0===n?void 0:n.account," : ").concat((null===n||void 0===n?void 0:n.sublogin)?null===n||void 0===n?void 0:n.sublogin:"")),o.a.createElement("div",{className:"HeadPanel__logout"},o.a.createElement(K,{Icon:ie,text:"\u0412\u044b\u0439\u0442\u0438",firstText:!0,onClick:this.onLogout})),o.a.createElement(K,{Icon:t?ge:fe,onClick:a}))}}]),n}(o.a.Component));ve.defaultProps={session:"",dispatch:function(){},sendsayInstance:{},isFullScreen:!1,user:{},onFullScreenChange:function(){}};var ye=Object(l.b)((function(e){return{user:e.user,session:e.auth.session}}))(ve),Ee=n(46),be=(n(69),function(e){var t=e.onClick,n=e.onDrop,a=e.actionName,r=e.isWrong;return o.a.createElement("button",{type:"button",className:"HistoryButton ".concat(r?"HistoryButton_wrong":""),onClick:t},o.a.createElement("span",{className:"HistoryButton__text"},a),o.a.createElement("div",{className:"HistoryButton__img-wrap",onClick:function(e){e.stopPropagation(),n()}},o.a.createElement("img",{className:"HistoryButton__img",src:"/images/dots.png",alt:""})))});be.defaultProps={onClick:function(){},onDrop:function(){},isWrong:!1};n(70);var Oe=function(e){var t=e.onClick,n=e.actionName,a=e.isDestruct;return o.a.createElement("button",{type:"button",className:"DropButton ".concat(a?"DropButton_destruct":""),onClick:t},n)};Oe.defaultProps={onClick:function(){},isDestruct:!1};n(71);var Ae=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isDropOpen:!1},e.onDropToggle=function(){e.setState((function(e){return{isDropOpen:!e.isDropOpen}}))},e.handleClickOutside=function(t){t.stopPropagation(),e.state.isDropOpen&&e.setState({isDropOpen:!1})},e.onActionClick=function(t,n){"function"===typeof t&&t(n),e.state.isDropOpen&&e.setState({isDropOpen:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.onCopy,r=t.onExecute,i=t.onDelete,c=t.actionName,s=t.actionOk,l=this.state.isDropOpen;return o.a.createElement("div",{className:"HistoryElement"},o.a.createElement(be,{className:"HistoryElement__btn",actionName:c,onClick:function(){return e.onActionClick(a,n)},onDrop:this.onDropToggle,isWrong:!s}),l&&o.a.createElement("div",{className:"HistoryElement__drop-list"},o.a.createElement("div",{className:"HistoryElement__drop-btn-wrap"},o.a.createElement(Oe,{onClick:function(){return e.onActionClick(r)},actionName:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),o.a.createElement(Oe,{onClick:function(){return e.onActionClick(a,n)},actionName:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),o.a.createElement("div",{className:"HistoryElement__drop-btn-wrap"},o.a.createElement(Oe,{onClick:function(){return e.onActionClick(i,c)},actionName:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",isDestruct:!0}))))}}]),n}(r.Component);Ae.defaultProps={onCopy:function(){},onExecute:function(){},onDelete:function(){}};var Ce=Object(Ee.a)(Ae),ke=n(49),Re="REQUEST_HISTORY_SET",xe="REQUEST_HISTORY_CLEAR",Se="REQUEST_HISTORY_DELETE",we="REQUEST_FETCH",je="REQUEST_SUCCESS",_e="REQUEST_ERROR",De=function(e,t){return t.filter((function(t){return t.action!==e}))};function Ne(e){return function(){var t=Object(k.a)(C.a.mark((function t(n,a){var r,o,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),o=r.requests,i=o.actions.filter((function(t,n){return n!==e})),n({type:Se,payload:{actions:i}}),localStorage.setItem("action_history",JSON.stringify(i));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Le(){return function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:xe,payload:{actions:[],lastResponse:{}}}),localStorage.setItem("action_history",JSON.stringify([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pe=o.a.createElement("path",{d:"M1 1L19 19",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round"}),Te=o.a.createElement("path",{d:"M19 1L1 19",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round"}),He=function(e){var t=e.svgRef,n=e.title,a=Fe(e,["svgRef","title"]);return o.a.createElement("svg",We({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},a),n?o.a.createElement("title",null,n):null,Pe,Te)},Ie=o.a.forwardRef((function(e,t){return o.a.createElement(He,We({svgRef:t},e))})),Ue=(n.p,n(72),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).lisfWrapRef=o.a.createRef(),e.onListWheel=function(t){e.lisfWrapRef.current.scrollLeft+=t.deltaY},e.onHistoryClear=function(){(0,e.props.dispatch)(Le())},e.onCopy=function(t){(0,e.props.onChangeDispayingText)(e.getActionById(t))},e.onExecute=function(t){var n=e.props,a=n.onChangeDispayingText,r=n.onSendAction,o=e.getActionById(t);r(o),a(o)},e.onDelete=function(t){(0,e.props.dispatch)(Ne(t))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(function(){var e=Object(k.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("action_history"))){e.next=7;break}return e.next=4,JSON.parse(n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:a=e.t0,t({type:Re,payload:{fetching:!1,fetchError:null,actions:a,lastResponse:{}}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"getActionById",value:function(e){var t=this.props.requestActions[e];return delete t.ok,delete t.err,JSON.stringify(t)}},{key:"render",value:function(){var e=this,t=this.props.requestActions;return o.a.createElement("div",{className:"HystoryPanel"},o.a.createElement("div",{className:"HystoryPanel__list-wrap",ref:this.lisfWrapRef},o.a.createElement("ul",{className:"HystoryPanel__list",onWheel:this.onListWheel},t.map((function(t,n){return o.a.createElement("li",{key:n,className:"HystoryPanel__item"},o.a.createElement(Ce,{id:n,actionName:t.action,actionOk:t.ok,onCopy:function(){return e.onCopy(n)},onExecute:function(){return e.onExecute(n)},onDelete:function(){return e.onDelete(n)}}))})))),o.a.createElement("div",{className:"HystoryPanel__last"},o.a.createElement(K,{Icon:Ie,onClick:this.onHistoryClear})))}}]),n}(r.Component));Ue.defaultProps={onChangeDispayingText:function(){},dispatch:function(){},onSendAction:function(){},requestActions:[]};var Be=Object(l.b)((function(e){return{requestActions:e.requests.actions}}))(Ue),Me=n(47),Ve=n.n(Me);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qe=o.a.createElement("g",{opacity:.8},o.a.createElement("path",{d:"M21 10H7",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M11 6H3",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M12 14H7",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M7 18H3",stroke:"#0D0D0D",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Xe=function(e){var t=e.svgRef,n=e.title,a=Je(e,["svgRef","title"]);return o.a.createElement("svg",qe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},a),n?o.a.createElement("title",null,n):null,Qe)},ze=o.a.forwardRef((function(e,t){return o.a.createElement(Xe,qe({svgRef:t},e))})),Ge=(n.p,n(98),function(e){var t=e.onSendAction,n=e.onFormating,a=e.isLoading;return o.a.createElement("div",{className:"ComandPanel"},o.a.createElement(D,{onClick:t,isLoading:a},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),o.a.createElement(O,{href:"https://github.com/RDemian",text:"https://github.com/RDemian"}),o.a.createElement(K,{Icon:ze,text:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:n}))});Ge.defaultProps={onSendAction:function(){},onFormating:function(){},isLoading:!1};n(99);var Ze=function(e){var t=e.isWarning,n=e.innerText,a=e.isEditable,i=e.onValueChange,c=e.editFieldRef;return Object(r.useEffect)((function(){i()}),[n,i]),o.a.createElement("div",{className:"EditableField ".concat(t?"EditableField_warning":"")},o.a.createElement("div",{ref:c,className:"EditableField__ctrl",contentEditable:a,onInput:i,dangerouslySetInnerHTML:{__html:n}}))};Ze.defaultProps={onValueChange:function(){},isWarning:!1,innerText:"",isEditable:!0,editFieldRef:null};var Ke=function(e){try{return JSON.parse(e),!0}catch(t){return console.error(t.message),!1}},Ye=function(e){var t=e.trim().replace(/^\{|\}(?: |$)/gi,"").trim().split(","),n=t.reduce((function(e,n,a){var r=a===t.length-1;return"".concat(e," <div>&nbsp;&nbsp;&nbsp;&nbsp;").concat(n.trim().replace(":",":&nbsp;&nbsp;")).concat(r?"":",","</div>")}),"");return"<div>{</div>".concat(n,"<div>}</div>")},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/<[^>]+>/g," ").replace(/&nbsp;/g,"")},et=function(e){return e=e.replace(/\s/g,"")},tt=(n(100),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).leftFieldRef=o.a.createRef(),e.rightFieldRef=o.a.createRef(),e.editorRef=o.a.createRef(),e.editorRangeRef=o.a.createRef(),e.editFieldRef=o.a.createRef(),e.prevClientX=null,e.state={isDrag:!1,currContent:"",isWarning:!1},e.onStartDrag=function(t){e.state.isDrag||(e.prevClientX=t.clientX,e.setState({isDrag:!0}))},e.onEndDrag=function(){e.state.isDrag&&(e.setState({isDrag:!1}),e.saveWidthKoeff())},e.onWidthChange=function(t){if(e.state.isDrag&&e.prevClientX){var n=t.clientX,a=e.getEditorWidth(),r=e.leftFieldRef.current,o=e.rightFieldRef.current,i=e.prevClientX-n,c=r.offsetWidth-i,s=a-c;r.style.width="".concat(c,"px"),o.style.width="".concat(s,"px"),e.prevClientX=n}},e.onValueChange=function(){var t,n,a=null===(t=e.editFieldRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.innerHTML,r=et($e(a));e.setState({currContent:r,isWarning:!1})},e.onFormating=function(){var t=e.props.onChangeDispayingText,n=e.state.currContent;Ke(n)?t(n):e.setState({isWarning:!0})},e.sendActionHandler=function(){var t=e.props.onSendAction,n=e.state.currContent;Ke(n)?t(n):e.setState({isWarning:!0})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("panel_width_koeff");this.setWidthByKoeff(e||1)}},{key:"getEditorWidth",value:function(){var e=this.editorRef.current,t=this.editorRangeRef.current.offsetWidth;return e.offsetWidth-t}},{key:"setWidthByKoeff",value:function(e){var t=this.getEditorWidth(),n=this.leftFieldRef.current,a=this.rightFieldRef.current,r=Math.round(t/(1+Number(e))),o=t-r;n.style.width="".concat(r,"px"),a.style.width="".concat(o,"px")}},{key:"saveWidthKoeff",value:function(){var e=this.leftFieldRef.current,t=this.rightFieldRef.current,n=Math.round(t.offsetWidth/e.offsetWidth*100)/100;localStorage.setItem("panel_width_koeff",n)}},{key:"render",value:function(){var e=this.props,t=e.displayingText,n=e.lastResponse,a=e.fetching,r=this.state.isWarning;return o.a.createElement("div",{className:"RequestPanel"},o.a.createElement("div",{className:"RequestPanel__editor",ref:this.editorRef,onMouseMove:this.onWidthChange,onMouseUp:this.onEndDrag,onMouseLeave:this.onEndDrag},o.a.createElement("div",{className:"RequestPanel__left-panel",ref:this.leftFieldRef},o.a.createElement("div",{className:"RequestPanel__field-name"},"\u0417\u0430\u043f\u0440\u043e\u0441:"),o.a.createElement(Ze,{editFieldRef:this.editFieldRef,onValueChange:this.onValueChange,innerText:t,isWarning:r})),o.a.createElement("div",{className:"RequestPanel__editor-range",ref:this.editorRangeRef,onMouseDown:this.onStartDrag},o.a.createElement("img",{src:"/images/dots.png",width:"6",height:"22",alt:""})),o.a.createElement("div",{className:"RequestPanel__right-panel",ref:this.rightFieldRef},o.a.createElement("div",{className:"RequestPanel__field-name"},"\u041e\u0442\u0432\u0435\u0442:"),o.a.createElement(Ze,{isEditable:!1,innerText:Ve()(n)?"":Ye(JSON.stringify(n))}))),o.a.createElement(Ge,{onSendAction:this.sendActionHandler,onFormating:this.onFormating,isLoading:a}))}}]),n}(o.a.Component));tt.defaultProps={lastResponse:{},fetching:!1,onChangeDispayingText:function(){},onSendAction:function(){},displayingText:""};var nt=Object(l.b)((function(e){return{lastResponse:e.requests.lastResponse,fetching:e.requests.fetching}}))(tt),at=(n(101),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChangeDispayingText=function(e){var t=Ye(e);a.setState({displayingText:t})},a.onSendAction=function(e){var t,n,r=a.props,o=r.session,i=r.dispatch;if(a.sendsayInstance.setSession(o),Ke(e))try{var c=JSON.parse(e);i((t=a.sendsayInstance,n=c,function(){var e=Object(k.a)(C.a.mark((function e(a,r){var o,i,c,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:we,payload:{fetching:!0,fetchError:null}}),o=r(),i=o.requests,c=De(n.action,i.actions),s=[n].concat(Object(ke.a)(c)).slice(0,15),e.prev=4,e.next=7,t.request(n);case 7:l=e.sent,n.ok=!0,a({type:je,payload:{fetching:!1,actions:s,lastResponse:l}}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),n.ok=!1,n.err=e.t0.id,a({type:_e,payload:{fetching:!1,fetchError:e.t0,actions:s,lastResponse:e.t0}});case 17:localStorage.setItem("action_history",JSON.stringify(s));case 18:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()))}catch(s){console.error(s)}else a.setState({isWarning:!0})},a.onFullScreenChange=Object(k.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.isFullScreen,e.prev=1,!t){e.next=8;break}return e.next=5,document.webkitExitFullscreen();case 5:a.setState({isFullScreen:!1}),e.next=11;break;case 8:return e.next=10,a.page.current.requestFullscreen();case 10:a.setState({isFullScreen:!0});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.info(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),a.sendsayInstance=new L.a,a.page=o.a.createRef(),a.state={isFullScreen:!1,displayingText:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isFullScreen,n=e.displayingText;return o.a.createElement("div",{ref:this.page,className:"ApiConsolePage"},o.a.createElement(ye,{sendsayInstance:this.sendsayInstance,onFullScreenChange:this.onFullScreenChange,isFullScreen:t}),o.a.createElement(Be,{onChangeDispayingText:this.onChangeDispayingText,onSendAction:this.onSendAction}),o.a.createElement(nt,{displayingText:n,onChangeDispayingText:this.onChangeDispayingText,onSendAction:this.onSendAction}))}}]),n}(r.Component));at.defaultProps={session:"",dispatch:function(){}};var rt=Object(l.b)((function(e){return{session:e.auth.session}}))(at),ot=(n(102),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.session,t=window.location.pathname;return o.a.createElement("div",{className:"App"},o.a.createElement(g.a,null,!!e&&"/api-console"!==t&&o.a.createElement(v.a,{to:"/api-console"}),!e&&"/api-console"===t&&o.a.createElement(v.a,{to:"/login"}),!e&&"/"===t&&o.a.createElement(v.a,{to:"/login"}),o.a.createElement(v.b,{path:"/login",component:Z}),o.a.createElement(v.b,{path:"/api-console",component:rt})))}}]),n}(o.a.Component));ot.defaultProps={session:""};var it=Object(l.b)((function(e){return{session:e.auth.session}}))(ot),ct={fetching:!1,fetchError:null,session:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}("session_id")||null};function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case B:case M:case V:case q:case J:case Q:return Object(I.a)(Object(I.a)({},e),a);default:return e}}var lt={fetching:!1,fetchError:null,account:null,sublogin:null};function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Y:case $:case ee:return Object(I.a)(Object(I.a)({},e),a);default:return e}}var ft={fetching:!1,fetchError:null,actions:[],lastResponse:{}};function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Re:case xe:case Se:case we:case je:case _e:return Object(I.a)(Object(I.a)({},e),a);default:return e}}n(104);var dt=Object(s.createStore)(Object(s.combineReducers)(a),Object(f.composeWithDevTools)(Object(s.applyMiddleware)(u.a)));c.a.render(o.a.createElement(l.a,{store:dt},o.a.createElement(it,null)),document.querySelector("#root"))},44:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAAeCAYAAAAfKSFiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJcSURBVHgB7ZvtahNBGIWPTWmptCgEKopCfnkD3v8leA8VxGJQUCIVpQXnITOwhKZJJjNn3h8+8JbCbmb35LxnPyfPtB+nqS5SvUx1meo81Swve0h1l+p3qlWqH6rng+r5qDpc2vbhKtV71bE63bECy69zzbasM8s7cZXX+5vqe64/iktEba9Vz5enzHyVB5/pMM7y5+ZsQGvh0YiorTRNDRw1fp1sWfgu1VsdLnYKwhd5rEhE1XZUKvnzmJkLrQ8prbjOY0ZgoZjajk4l/2yaSafN1Z65xic0srajUwlTM9mpll27SbnYGEFkbU1SCcVMLsffqD9s45hzVQ3RtTVJJRQz6dwz9Qex7nRG1tYslTA10wW3Bc50RtbWLJWAmTz5cHRuAbHP5SGytqapBMy8lJ8X8hBZW9NUAma6UjKltiMPJaq25qmEUWaey0NUbc1TCZjpvlWQcZsRtXVJJZzoP266pBIw80F+XNuMpq1bKgEzR7xzvJOHaNq6pRIwcyU/LjMjaeuaSsDMn/Kzc8caEUlb11QCZtJJznMLh77ec2kKUbR1TyWUC6Cv8uGcRhJFW/dUQrk1WcrTwXSue07QaG2WVEIxE7F7d8AR3Go9w83JaG2WVML0oQEd3POQxNijZuqN0mZLJWw+AfqsPl/4tzz2SEZos6USHnucd6O2XcxYnxSDG/m0WVMJ2yZB02lMyaezat9w3Gt9HlkqFi5t1lTCUzPaOSTRIfNc+wpH6FK+q8gaemuzpxJ2/daEq7PbXLxBZwd5R3gx+ex9Xq/8sIauj2rilJ7a7KmEfwA5sg+IeaXhAAAAAElFTkSuQmCC"},45:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEzSURBVHgB7ZW/SkMxFMbPDUVoQRAKiuJQFzdHwW7+WX0Bn8DRwRfwAfQBRHfBRfAFHMXJR1AQLBQ6FQqFwu3vQAohJOlN26GFfvBruOecnC8J6b0iy6SyLI+UnDk1ydOGZMr4AVa4JQuUCcS+MfmBllQUtQ24sNSmGaha8FHFRJsztKGuj0VRjKYZnMFvxGRoCTUfwKdUkTa1x6R6S9S14RLOoS45sia6g5tEzQEcZzdfKRX6wxa/GPa93B834qRKE+ZfMWx64T7zX4ysNas41z24t+cbq9FXwy00YzUm1pzhEU4tMR1aoiYm0XwX/uHOyT3Dk1P+Cj1oxkxCO3CbX3PVOk5uG3YmD+S0+YNrkjRgBZO7HGoelGcyn1jAu5LIN/zYQv9o7Gbgx3K/yV0oZZk0BjIJtGcw7W6SAAAAAElFTkSuQmCC"},50:function(e,t,n){e.exports=n(105)},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[50,1,2]]]);
//# sourceMappingURL=main.939706cb.chunk.js.map